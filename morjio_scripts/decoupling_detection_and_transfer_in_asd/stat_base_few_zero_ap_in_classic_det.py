import os 
import ipdb 

# all_classes_disorder类别的顺序是随意设置的，ap和顺序和all_classes的顺序一致
all_classes_disorder = ['person', 'motorcycle', 'train', 'traffic light', 'parking meter', 'cat', 'sheep', 'bear', 'backpack', 'tie', 'skis', 'kite', 'skateboard', 'bottle', 'fork', 'bowl', 'sandwich', 'carrot', 'donut', 'couch', 'dining table', 'laptop', 'keyboard', 'oven', 'refrigerator', 'vase', 'hair drier', 'bicycle', 'airplane', 'truck', 'fire hydrant', 'bench', 'dog', 'cow', 'zebra', 'umbrella', 'suitcase', 'snowboard', 'baseball bat', 'surfboard', 'wine glass', 'knife', 'banana', 'orange', 'hot dog', 'cake', 'potted plant', 'toilet', 'mouse', 'cell phone', 'toaster', 'book', 'scissors', 'toothbrush', 'car', 'bus', 'boat', 'stop sign', 'bird', 'horse', 'elephant', 'giraffe', 'handbag', 'frisbee', 'sports ball', 'baseball glove', 'tennis racket', 'cup', 'spoon', 'apple', 'broccoli', 'pizza', 'chair', 'bed', 'tv', 'remote', 'microwave', 'sink', 'clock', 'teddy bear']
ap = [0.534 , 0.413 , 0.604 , 0.262 , 0.477 , 0.638 , 0.512 , 0.668 , 0.167 , 0.319 , 0.233 , 0.382 , 0.481 , 0.392 , 0.318 , 0.417 , 0.323 , 0.223 , 0.457 , 0.402 , 0.258 , 0.587 , 0.463 , 0.324 , 0.494 , 0.381 , 0.035 , 0.293 , 0.615 , 0.340 , 0.672 , 0.227 , 0.597 , 0.537 , 0.651 , 0.365 , 0.351 , 0.308 , 0.257 , 0.341 , 0.337 , 0.170 , 0.240 , 0.309 , 0.297 , 0.349 , 0.258 , 0.572 , 0.603 , 0.332 , 0.255 , 0.149 , 0.245 , 0.168 , 0.436 , 0.628 , 0.259 , 0.656 , 0.333 , 0.552 , 0.611 , 0.663 , 0.142 , 0.630 , 0.441 , 0.349 , 0.455 , 0.406 , 0.144 , 0.210 , 0.226 , 0.497 , 0.269 , 0.398 , 0.536 , 0.292 , 0.529 , 0.350 , 0.494 , 0.443 ]
ap50 = [0.822 , 0.731 , 0.829 , 0.525 , 0.648 , 0.904 , 0.746 , 0.846 , 0.328 , 0.562 , 0.479 , 0.591 , 0.737 , 0.594 , 0.540 , 0.596 , 0.507 , 0.397 , 0.613 , 0.633 , 0.414 , 0.776 , 0.716 , 0.547 , 0.718 , 0.571 , 0.094 , 0.582 , 0.845 , 0.551 , 0.896 , 0.373 , 0.790 , 0.770 , 0.900 , 0.618 , 0.585 , 0.501 , 0.515 , 0.576 , 0.577 , 0.329 , 0.439 , 0.419 , 0.472 , 0.575 , 0.480 , 0.752 , 0.791 , 0.551 , 0.343 , 0.318 , 0.358 , 0.364 , 0.697 , 0.802 , 0.534 , 0.740 , 0.526 , 0.803 , 0.868 , 0.899 , 0.292 , 0.843 , 0.615 , 0.591 , 0.759 , 0.593 , 0.272 , 0.312 , 0.435 , 0.698 , 0.466 , 0.657 , 0.741 , 0.518 , 0.715 , 0.557 , 0.733 , 0.669]
ap_coco2014val = [0.520 , 0.389 , 0.560 , 0.301 , 0.316 , 0.593 , 0.483 , 0.636 , 0.163 , 0.328 , 0.210 , 0.392 , 0.445 , 0.359 , 0.267 , 0.385 , 0.306 , 0.208 , 0.476 , 0.343 , 0.280 , 0.540 , 0.448 , 0.305 , 0.409 , 0.354 , 0.017 , 0.284 , 0.514 , 0.313 , 0.633 , 0.202 , 0.530 , 0.485 , 0.639 , 0.314 , 0.301 , 0.288 , 0.262 , 0.362 , 0.380 , 0.155 , 0.211 , 0.285 , 0.267 , 0.300 , 0.237 , 0.559 , 0.495 , 0.301 , 0.159 , 0.118 , 0.215 , 0.124 , 0.414 , 0.591 , 0.241 , 0.635 , 0.313 , 0.500 , 0.629 , 0.662 , 0.125 , 0.588 , 0.407 , 0.363 , 0.450 , 0.396 , 0.141 , 0.192 , 0.247 , 0.501 , 0.253 , 0.401 , 0.507 , 0.267 , 0.510 , 0.323 , 0.494 , 0.413 ]
ap50_coco2014val = [0.808 , 0.693 , 0.809 , 0.552 , 0.474 , 0.863 , 0.718 , 0.814 , 0.338 , 0.567 , 0.448 , 0.600 , 0.731 , 0.576 , 0.460 , 0.552 , 0.502 , 0.368 , 0.630 , 0.556 , 0.456 , 0.746 , 0.676 , 0.530 , 0.593 , 0.543 , 0.030 , 0.548 , 0.779 , 0.499 , 0.842 , 0.343 , 0.769 , 0.723 , 0.892 , 0.561 , 0.515 , 0.473 , 0.560 , 0.623 , 0.615 , 0.299 , 0.395 , 0.394 , 0.434 , 0.478 , 0.440 , 0.775 , 0.669 , 0.489 , 0.225 , 0.269 , 0.389 , 0.265 , 0.682 , 0.774 , 0.494 , 0.749 , 0.516 , 0.759 , 0.863 , 0.891 , 0.261 , 0.791 , 0.581 , 0.603 , 0.750 , 0.564 , 0.266 , 0.280 , 0.461 , 0.687 , 0.445 , 0.651 , 0.712 , 0.469 , 0.720 , 0.539 , 0.733 , 0.667 ]
fsd_ap_coco2014val = [0.506 , 0.373 , 0.187 , 0.277 , 0.105 , 0.238 , 0.435 , 0.369 , 0.136 , 0.304 , 0.160 , 0.351 , 0.351 , 0.295 , 0.026 , 0.296 , 0.079 , 0.154 , 0.451 , 0.248 , 0.231 , 0.451 , 0.337 , 0.265 , 0.339 , 0.263 , 0.003 , 0.257 , 0.235 , 0.249 , 0.597 , 0.147 , 0.346 , 0.471 , 0.622 , 0.247 , 0.066 , 0.121 , 0.247 , 0.293 , 0.327 , 0.100 , 0.176 , 0.235 , 0.059 , 0.249 , 0.181 , 0.192 , 0.210 , 0.257 , 0.038 , 0.084 , 0.178 , 0.082 , 0.381 , 0.517 , 0.149 , 0.632 , 0.284 , 0.496 , 0.549 , 0.628 , 0.073 , 0.235 , 0.387 , 0.355 , 0.430 , 0.338 , 0.070 , 0.154 , 0.214 , 0.429 , 0.213 , 0.328 , 0.453 , 0.219 , 0.436 , 0.199 , 0.411 , 0.381 ]
fsd_ap50_coco2014val = [0.801 , 0.694 , 0.441 , 0.535 , 0.187 , 0.512 , 0.710 , 0.529 , 0.320 , 0.558 , 0.386 , 0.595 , 0.709 , 0.530 , 0.062 , 0.492 , 0.164 , 0.291 , 0.613 , 0.482 , 0.421 , 0.692 , 0.584 , 0.504 , 0.543 , 0.457 , 0.008 , 0.533, 0.462, 0.424, 0.828, 0.309, 0.577, 0.723, 0.889, 0.512, 0.157, 0.253, 0.549, 0.594, 0.576, 0.204, 0.359, 0.355, 0.125, 0.424, 0.394, 0.374, 0.295, 0.456, 0.052, 0.228, 0.355, 0.208, 0.663, 0.700, 0.409, 0.760, 0.491, 0.762, 0.851, 0.893, 0.177, 0.366, 0.572, 0.631, 0.742, 0.531, 0.164, 0.255, 0.444, 0.639, 0.404, 0.623, 0.667, 0.441, 0.691, 0.439, 0.717, 0.659]
fsl_coco2014val = [0.95120087, 0.04469274, 0.83454735, 0.53999999, 0.21686747, 0.15839243, 0.02409639, 0., 0., 0.29999999, 0., 0., 0.2839196, 0.32142856, 0.24999994, 0., 0.33333328, 0., 0.14285712, 0.03302752, 0.04166667, 0., 0., 0.00775194, 0., 0., 0., 0., 0., 0., 0.24999994, 0.22011834, 0., 0.81526348, 0.04143126, 0.07819905, 0.024, 0.77272727, 0., 0.10377358, 0.64066852, 0.01055409, 0.54117647, 0.2, 0., 0.60690316, 0.04804805, 0.00211864, 0., 0.74501511, 0.59085439, 0.08115543, 0., 0., 0., 0.34210526, 0.31578947, 0.18424963, 0.21505376, 0.5119197, 0., 0., 0., 0.4137931, 0., 0.37172775, 0.03008502, 0., 0.11233211, 0.6039823, 0., 0., 0., 0., 0.02631579, 0., 0.33501441, 0., 0., 0.]
BASE_CLASSES=('person', 'bicycle', 'car', 'motorcycle', 'bus', 'truck', 'boat',
                'traffic light', 'fire hydrant',
                'stop sign', 'bench', 'bird', 'dog',
                'horse', 'sheep', 'cow', 'elephant', 'zebra', 'giraffe',
                'backpack', 'umbrella', 'handbag', 'tie',
                'skis', 'sports ball', 'kite', 'baseball bat',
                'baseball glove', 'skateboard', 'surfboard', 'tennis racket',
                'bottle', 'wine glass', 'cup', 'knife', 'spoon', 'bowl',
                'banana', 'apple', 'orange', 'broccoli', 'carrot',
                'pizza', 'donut', 'cake', 'chair', 'couch',
                'potted plant', 'bed', 'dining table', 'tv', 'laptop',
                'remote', 'keyboard', 'cell phone', 'microwave',
                'oven', 'sink', 'refrigerator', 'book', 'clock',
                'vase', 'scissors', 'teddy bear', 'toothbrush')
NOVEL_CLASSES = ('airplane', 'train', 'parking meter', 'cat', 'bear', 'suitcase', 'frisbee', 'snowboard', 'fork', 'sandwich', 'hot dog', 'toilet', 'mouse', 'toaster', 'hair drier',)
FEW_SHOT_CLASSES_1=('train', 'parking meter', 'bear', 'snowboard', 'fork', 'hot dog', 'toaster', 'hair drier')
ZERO_SHOT_CLASSES_1=('airplane', 'cat', 'suitcase', 'frisbee', 'sandwich', 'toilet', 'mouse')

base_ap = []
novel_ap = []
few_shot_ap = []
zero_shot_ap = []
ap = fsl_coco2014val
for i, c in enumerate(all_classes_disorder):
    if c in BASE_CLASSES:
        base_ap.append(ap[i])
    if c in NOVEL_CLASSES:
        novel_ap.append(ap[i])
    if c in FEW_SHOT_CLASSES_1:
        few_shot_ap.append(ap[i])
    if c in ZERO_SHOT_CLASSES_1:
        zero_shot_ap.append(ap[i])
print(sum(base_ap)/len(base_ap))
print(sum(novel_ap)/len(novel_ap))
print(sum(few_shot_ap)/len(few_shot_ap))
print(sum(zero_shot_ap)/len(zero_shot_ap))
ipdb.set_trace()
